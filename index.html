<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Эвакуатор СПб — быстро, надежно, по фиксированной ставке</title>
    <meta name="description" content="Закажите эвакуатор в Санкт-Петербурге за 2 минуты — без скрытых платежей. Прозрачная цена: погрузка + 100 ₽ за км.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="./style.css" rel="stylesheet">
  </head>
  <body data-page="index">
    <header class="bg-brand text-white py-4 border-bottom border-2 border-accent">
      <div class="container">
        <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3">
          <div class="d-flex align-items-center gap-3">
            <div class="logo-text fw-bold fs-4">Эвакуатор СПб</div>
            <div class="text-accent small">24/7</div>
          </div>
          <div class="text-md-end small opacity-75">
            Быстро, надежно, по фиксированной ставке
          </div>
        </div>
      </div>
    </header>

    <main class="py-4 py-md-5">
      <div class="container">
        <section class="mb-4 mb-md-5">
          <div class="text-center">
            <h1 class="display-6 display-md-5 fw-bold">Эвакуатор СПб — быстро, надежно, по фиксированной ставке</h1>
            <p class="lead mt-2 mb-0">Закажите эвакуатор за 2 минуты — без скрытых платежей</p>
          </div>
        </section>

        <div class="row g-4">
          <div class="col-12 col-lg-7">
            <section class="card shadow-sm">
              <div class="card-body">
                <h2 class="h5 mb-3">Заявка на эвакуатор</h2>
                <form id="orderForm" novalidate>
                  <div class="row g-3">
                    <div class="col-12 col-md-6">
                      <label for="name" class="form-label">Имя<span class="text-danger">*</span></label>
                      <input type="text" class="form-control" id="name" placeholder="Иван" required>
                      <div class="invalid-feedback">Пожалуйста, укажите имя.</div>
                    </div>
                    <div class="col-12 col-md-6">
                      <label for="phone" class="form-label">Телефон<span class="text-danger">*</span></label>
                      <input type="tel" class="form-control" id="phone" placeholder="79991234567" inputmode="numeric" pattern="^\d{10,11}$" required>
                      <div class="form-text">10–11 цифр, без пробелов</div>
                      <div class="invalid-feedback">Введите корректный номер (10–11 цифр).</div>
                    </div>

                    <div class="col-12">
                      <label for="pickup" class="form-label">Адрес забора<span class="text-danger">*</span></label>
                      <textarea class="form-control" id="pickup" rows="2" placeholder="СПб, ..." required></textarea>
                      <div class="invalid-feedback">Укажите адрес забора.</div>
                    </div>
                    <div class="col-12">
                      <label for="dropoff" class="form-label">Адрес доставки<span class="text-danger">*</span></label>
                      <textarea class="form-control" id="dropoff" rows="2" placeholder="СПб, ..." required></textarea>
                      <div class="invalid-feedback">Укажите адрес доставки.</div>
                    </div>

                    <div class="col-12 col-md-6">
                      <label for="distance" class="form-label">Расстояние, км</label>
                      <div class="input-group">
                        <input type="number" class="form-control" id="distance" placeholder="Например, 15" min="1" max="500">
                        <button class="btn btn-accent" type="button" id="distanceAutoBtn">Авто</button>
                      </div>
                      <div class="form-text">Расчет: 2000 ₽ погрузка + 100 ₽/км</div>
                    </div>

                    <div class="col-12 col-md-6">
                      <label for="vehicleType" class="form-label">Тип транспорта</label>
                      <select id="vehicleType" class="form-select">
                        <option value="Автомобиль">Автомобиль</option>
                        <option value="Мотоцикл">Мотоцикл</option>
                        <option value="Автобус">Автобус</option>
                        <option value="Фура">Фура</option>
                      </select>
                    </div>

                    <div class="col-12">
                      <label for="brandModel" class="form-label">Марка и модель авто</label>
                      <input type="text" class="form-control" id="brandModel" placeholder="Например, Toyota Camry">
                    </div>

                    <div class="col-12">
                      <label class="form-label">Дополнительно</label>
                      <div class="row g-2">
                        <div class="col-12 col-sm-4">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="isRunning">
                            <label class="form-check-label" for="isRunning">Машина на ходу</label>
                          </div>
                        </div>
                        <div class="col-12 col-sm-4">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="hasDocs">
                            <label class="form-check-label" for="hasDocs">Есть документы</label>
                          </div>
                        </div>
                        <div class="col-12 col-sm-4">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="canWinch">
                            <label class="form-check-label" for="canWinch">Можно подцепить лебедкой</label>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <label for="comment" class="form-label">Комментарий</label>
                      <textarea class="form-control" id="comment" rows="2" placeholder="Необязательно"></textarea>
                    </div>

                    <div class="col-12 d-grid d-sm-flex gap-2 mt-2">
                      <button type="submit" class="btn btn-primary btn-lg flex-grow-1">Отправить</button>
                      <a href="./admin.html" class="btn btn-outline-secondary">Админ-панель</a>
                    </div>
                  </div>
                </form>
              </div>
            </section>
          </div>

          <div class="col-12 col-lg-5">
            <section class="card shadow-sm sticky-lg-top" style="top: 12px;">
              <div class="card-body">
                <h2 class="h5 mb-3">Мои заказы</h2>
                <form id="myOrdersForm" class="row g-2 align-items-end" novalidate>
                  <div class="col-12">
                    <label for="myPhone" class="form-label">Номер телефона</label>
                    <input type="tel" class="form-control" id="myPhone" placeholder="79991234567" inputmode="numeric" pattern="^\d{10,11}$" required>
                    <div class="invalid-feedback">Введите номер (10–11 цифр).</div>
                  </div>
                  <div class="col-12 d-grid d-sm-inline">
                    <button type="submit" class="btn btn-primary">Показать</button>
                  </div>
                </form>
                <div id="myOrdersContainer" class="mt-3"></div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>

    <footer class="py-4 bg-light border-top">
      <div class="container small d-flex flex-column flex-md-row justify-content-between gap-2">
        <div class="fw-semibold">Эвакуатор СПб</div>
        <div class="opacity-75">© <span id="year"></span>. Все права защищены.</div>
      </div>
    </footer>

    <!-- Модалка стоимости / успеха -->
    <div class="modal fade" id="costModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Заявка отправлена</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p class="mb-2">Средняя стоимость эвакуации: <span class="fw-bold" id="calculatedCost">—</span> ₽</p>
            <p class="mb-0 text-secondary small">Итоговая цена может отличаться — водитель уточнит по телефону.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ок</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Модалка деталей заказа -->
    <div class="modal fade" id="detailsModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Детали заказа</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" id="detailsBody"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./script.js"></script>
  </body>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  </html>

